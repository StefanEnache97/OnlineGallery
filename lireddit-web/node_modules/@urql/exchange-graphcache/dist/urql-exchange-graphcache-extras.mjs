function w(a) {
  return "string" == typeof a ? a : null;
}

function x(a, e, g) {
  var c, b, d, r, m;
  for (c = new Set, b = 0, d = e.length; b < d; b++) {
    "string" == typeof (r = a.resolve(e[b], "node")) && c.add(r);
  }
  e = e.slice();
  b = 0;
  for (d = g.length; b < d; b++) {
    "string" != typeof (m = a.resolve(r = g[b], "node")) || c.has(m) || (c.add(m), e.push(r));
  }
  return e;
}

function z(a, e) {
  var g, c, b, d;
  for (g = new Set, c = 0, b = a.length; c < b; c++) {
    "string" == typeof (d = a[c]) && g.add(d);
  }
  a = a.slice();
  c = 0;
  for (b = e.length; c < b; c++) {
    "string" != typeof (d = e[c]) || g.has(d) || (g.add(d), a.push(d));
  }
  return a;
}

function A(a, e) {
  var g, c, b, d;
  for (g in e) {
    if ("first" !== g && "last" !== g && "after" !== g && "before" !== g) {
      if (!(g in a)) {
        return !1;
      }
      if (typeof (c = a[g]) != typeof (b = e[g]) || "object" != typeof c ? c !== b : stringifyVariables(c) !== stringifyVariables(b)) {
        return !1;
      }
    }
  }
  for (d in a) {
    if ("first" !== d && "last" !== d && "after" !== d && "before" !== d && !(d in e)) {
      return !1;
    }
  }
  return !0;
}

function B(a, e, g) {
  var b, d, r, m, c = w(a.resolveFieldByKey(e, g));
  if (!c) {
    return null;
  }
  g = a.resolve(c, "__typename");
  e = a.resolve(c, "edges") || [];
  b = a.resolve(c, "nodes") || [];
  if ("string" != typeof g) {
    return null;
  }
  g = {
    __typename: g,
    edges: e,
    nodes: b,
    pageInfo: v
  };
  if ("string" == typeof (d = a.resolve(c, "pageInfo"))) {
    c = w(a.resolve(d, "__typename"));
    b = w(a.resolve(d, "endCursor"));
    r = w(a.resolve(d, "startCursor")), m = a.resolve(d, "hasNextPage");
    d = a.resolve(d, "hasPreviousPage");
    null === (c = g.pageInfo = {
      __typename: "string" == typeof c ? c : "PageInfo",
      hasNextPage: "boolean" == typeof m ? m : !!b,
      hasPreviousPage: "boolean" == typeof d ? d : !!r,
      endCursor: b,
      startCursor: r
    }).endCursor && (b = e[e.length - 1]) && (b = a.resolve(b, "cursor"), c.endCursor = w(b));
    null === c.startCursor && (e = e[0]) && (a = a.resolve(e, "cursor"), c.startCursor = w(a));
  }
  return g;
}

function relayPagination(a) {
  void 0 === a && (a = {});
  var e = a.mergeMode || "inwards";
  return function(a, c, b, d) {
    var g, m, y, t, u, q, n, k, l, p, h, f, C, D;
    g = d.fieldName;
    if (0 !== (y = (m = b.inspectFields(a = d.parentKey).filter((function(a) {
      return a.fieldName === g;
    }))).length)) {
      for (t = null, u = [], q = [], n = [], k = [], l = _extends({}, v), p = 0; p < y; p++) {
        f = (h = m[p]).fieldKey;
        if (null !== (h = h.arguments) && A(c, h) && null !== (f = B(b, a, f))) {
          if ("inwards" === e && "number" == typeof h.last && "number" == typeof h.first) {
            l = f.edges.slice(0, h.first + 1);
            C = f.edges.slice(-h.last), D = f.nodes.slice(0, h.first + 1);
            h = f.nodes.slice(-h.last);
            u = x(b, u, l);
            q = x(b, C, q);
            n = z(n, D);
            k = z(h, k);
            l = f.pageInfo;
          } else {
            h.after ? (u = x(b, u, f.edges), n = z(n, f.nodes), l.endCursor = f.pageInfo.endCursor, 
            l.hasNextPage = f.pageInfo.hasNextPage) : h.before ? (q = x(b, f.edges, q), k = z(f.nodes, k), 
            l.startCursor = f.pageInfo.startCursor, l.hasPreviousPage = f.pageInfo.hasPreviousPage) : ("number" == typeof h.last ? (q = x(b, q, f.edges), 
            k = z(k, f.nodes)) : (u = x(b, u, f.edges), n = z(n, f.nodes)), l = f.pageInfo);
          }
          f.pageInfo.__typename !== l.__typename && (l.__typename = f.pageInfo.__typename);
          t !== f.__typename && (t = f.__typename);
        }
      }
      if ("string" == typeof t) {
        if (!w(b.resolve(a, g, c))) {
          if (d.store.schema) {
            d.partial = !0;
          } else {
            return;
          }
        }
        return {
          __typename: t,
          edges: "inwards" === e ? x(b, u, q) : x(b, q, u),
          nodes: "inwards" === e ? z(n, k) : z(k, n),
          pageInfo: {
            __typename: l.__typename,
            endCursor: l.endCursor,
            startCursor: l.startCursor,
            hasNextPage: l.hasNextPage,
            hasPreviousPage: l.hasPreviousPage
          }
        };
      }
    }
  };
}

function simplePagination(a) {
  function e(a, d) {
    var b, e, y, t;
    for (b in d) {
      if (b !== g && b !== c) {
        if (!(b in a)) {
          return !1;
        }
        if (typeof (e = a[b]) != typeof (y = d[b]) || "object" != typeof e ? e !== y : stringifyVariables(e) !== stringifyVariables(y)) {
          return !1;
        }
      }
    }
    for (t in a) {
      if (t !== g && t !== c && !(t in d)) {
        return !1;
      }
    }
    return !0;
  }
  var g, c;
  void 0 === a && (a = {});
  void 0 === (g = a.offsetArgument) && (g = "skip");
  void 0 === (c = a.limitArgument) && (c = "limit");
  return function(a, d, c, m) {
    var b, t, u, q, n, k, l, p, h, f, r;
    b = m.fieldName;
    if (0 !== (u = (t = c.inspectFields(a = m.parentKey).filter((function(a) {
      return a.fieldName === b;
    }))).length)) {
      for (q = new Set, n = [], k = null, l = 0; l < u; l++) {
        h = (p = t[l]).fieldKey;
        if (null !== (p = p.arguments) && e(d, p) && (h = c.resolveFieldByKey(a, h), p = p[g], 
        null !== h && 0 !== h.length && "number" == typeof p)) {
          if (!k || p > k) {
            for (k = 0; k < h.length; k++) {
              q.has(f = h[k]) || (n.push(f), q.add(f));
            }
          } else {
            k = [];
            for (f = 0; f < h.length; f++) {
              q.has(r = h[f]) || (k.push(r), q.add(r));
            }
            n = k.concat(n);
          }
          k = p;
        }
      }
      if (c.resolve(a, b, d)) {
        return n;
      }
      if (m.store.schema) {
        return m.partial = !0, n;
      }
    }
  };
}

import { stringifyVariables } from "@urql/core";

import { _ as _extends } from "./5301ccd2.mjs";

var v = {
  __typename: "PageInfo",
  endCursor: null,
  startCursor: null,
  hasNextPage: !1,
  hasPreviousPage: !1
};

export { relayPagination, simplePagination };
//# sourceMappingURL=urql-exchange-graphcache-extras.mjs.map

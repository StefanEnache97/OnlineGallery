"use strict";var e=require("./1cc90026.min.js"),t=require("graphql/utilities/valueFromASTUntyped"),r=require("graphql/language/kinds"),n=require("graphql/type/definition"),i=require("@urql/core"),o=require("graphql/utilities/buildClientSchema"),a=require("wonka"),u=require("graphql/language/printer"),s=function(e){return e.name.value},f=function(e){return e.typeCondition.name.value},c=function(e){return e.alias?e.alias.value:s(e)},l=function(e){return e.selectionSet?e.selectionSet.selections:[]},d=function(e){return(e=e.typeCondition)?s(e):null},p=function(e){return e.kind===r.Kind.FIELD},v=function(e){return e.kind===r.Kind.INLINE_FRAGMENT},y=function(e,r){var n={},i=0;if(e.arguments&&e.arguments.length)for(var o=0,a=e.arguments.length;o<a;o++){var u=e.arguments[o],f=t.valueFromASTUntyped(u.value,r);null!=f&&(n[s(u)]=f,i++)}return 0<i?n:null},m=function(e,t){if(t&&e.variableDefinitions){for(var r={},n=0,i=e.variableDefinitions.length;n<i;n++){var o=s(e.variableDefinitions[n].variable);r[o]=t[o]}return r}},h=function(e,r){var n={};if(!r)return n;if(e.variableDefinitions)for(var i=0,o=e.variableDefinitions.length;i<o;i++){var a=e.variableDefinitions[i],u=s(a.variable);n[u]=void 0===r[u]&&a.defaultValue?t.valueFromASTUntyped(a.defaultValue,r):r[u]}for(var f in r)f in n||(n[f]=r[f]);return n};function g(e,t,r){if(!e)throw(e=Error((t||"Minfied Error #"+r+"\n")+"\nhttps://bit.ly/2XbVrpR#"+r)).name="Graphcache Error",e}var k=function(e){return e.kind===r.Kind.FRAGMENT_DEFINITION};function b(e){return e.kind===r.Kind.OPERATION_DEFINITION}var q=function(e){return g(!!(e=e.definitions.find(b)),"",1),e};function O(e,t){return e[s(t)]=t,e}var _=function(e){return e.definitions.filter(k).reduce(O,{})},x=function(e,r){var n=e.directives;if(!n)return!0;for(var i=0,o=n.length;i<o;i++){var a=n[i];if(("include"===(e=s(a))||"skip"===e)&&a.arguments&&a.arguments[0]&&"if"===s(a.arguments[0]))return r=t.valueFromASTUntyped(a.arguments[0].value,r),"include"===e?!!r:!r}return!0},w=/^__/,N=function(e,t,r){return!!w.test(r)||!!(e=E(e,t,r))&&n.isNullableType(e.type)},K=function(e,t,r){return!!(e=E(e,t,r))&&(e=n.isNonNullType(e.type)?e.type.ofType:e.type,n.isListType(e)&&n.isNullableType(e.ofType))},S=function(e,t,r){return!(!r||!t)&&(r===t||(t=e.getType(t),r=e.getType(r),t instanceof n.GraphQLObjectType?t===r:(function(e,t){g(e instanceof n.GraphQLInterfaceType||e instanceof n.GraphQLUnionType,"",5)}(t),T(r),e.isPossibleType(t,r))))},E=function(e,t,r){return T(e=e.getType(t)),e.getFields()[r]};function T(e,t){g(e instanceof n.GraphQLObjectType,"",3)}var F=function(e,t){return t?e+"("+i.stringifyVariables(t)+")":e},A=function(e,t){return e+"."+t},L=function(e){var t=e.indexOf("(");return-1<t?{fieldKey:e,fieldName:e.slice(0,t),arguments:JSON.parse(e.slice(t+1,-1))}:{fieldKey:e,fieldName:e,arguments:null}},M=function(e){var t=e.indexOf(".");return{entityKey:e.slice(0,t).replace(/%2e/g,"."),fieldKey:e=e.slice(t+1)}},D=function(){return Object.create(null)},P=null,I=null,R=null,j=null,C=!1,Q=function(){return{optimistic:D(),base:new Map}},G=function(e,t,r,n){P=e,I=t,R=D(),C=!!n,r?n||0<t.optimisticOrder.length?(n||t.commutativeKeys.has(r)?n&&t.commutativeKeys.delete(r):ae(t,r),j=r,ue(t,r)):(j=null,fe(t,r)):j=null},V=function(){var e=I,t=j;if(C=!1,j=null,t&&-1<e.optimisticOrder.indexOf(t))for(t=e.optimisticOrder.length;0<=--t&&e.refLock[e.optimisticOrder[t]]&&e.commutativeKeys.has(e.optimisticOrder[t]);)de(e.optimisticOrder[t]);R=I=P=null,e.defer||(e.defer=!0,Promise.resolve().then((function(){G("write",e,null),$(),ve(),V(),e.defer=!1})))},U=function(e,t,r){G("read",e,t,r),V()},J=function(){return g(null!==R,"",2),R},B=function(e,t,r,n){var i=(e=j?e.optimistic[j]:e.base).get(t);void 0===i&&e.set(t,i=D()),void 0!==n||j?i[r]=n:delete i[r]},z=function(e,t,r){for(var n,i=0,o=I.optimisticOrder.length;i<o;i++){var a=I.optimisticOrder[i],u=e.optimistic[a];if(u&&(!C||I.commutativeKeys.has(a))&&void 0!==(n=u.get(t))&&r in n)return n[r]}return void 0!==(n=e.base.get(t))?n[r]:void 0},X=function(e,t,r,n){var i=void 0!==t[r]?t[r]:0;t=t[r]=i+n|0,void 0!==e&&(0>=t?e.add(r):0>=i&&0<t&&e.delete(r))},H=function(e,t,r,n){if("string"==typeof r)X(e,t,r,n);else if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++){var a=r[i];a&&X(e,t,a,n)}},W=function(e,t,r){if(void 0!==r)for(var n in r)t.has(n)||(e.push(L(n)),t.add(n))},Y=function(e,t,r,n){W(e,t,n.base.get(r));for(var i=0,o=I.optimisticOrder.length;i<o;i++){var a=n.optimistic[I.optimisticOrder[i]];void 0!==a&&W(e,t,a.get(r))}};function Z(e,t,r){if(0<(I.refCount[e]||0))r.delete(e);else{for(var n in I.refLock){if(0<((t=I.refLock[n])[e]||0))return;delete t[e]}if(delete I.refCount[e],r.delete(e),I.records.base.delete(e),n=I.links.base.get(e))for(var i in I.links.base.delete(e),n)H(r,I.refCount,n[i],-1)}}var $=function(){I.gc.forEach(Z)},ee=function(e,t){"__typename"!==t&&(e!==I.queryRootKey?R[e]=!0:void 0!==t&&(R[A(e,t)]=!0))},te=function(e,t){!C&&I.storage&&I.persist.add(function(e,t){return e.replace(/\./g,"%2e")+"."+t}(e,t))},re=function(e,t){return ee(e,t),z(I.records,e,t)},ne=function(e,t){return ee(e,t),z(I.links,e,t)},ie=function(e,t,r){ee(e,t),te(e,t),B(I.records,e,t,r)},oe=function(e,t,r){var n=I;if(j)var i=n.refLock[j]||(n.refLock[j]=D()),o=n.links.optimistic[j];else{i=n.refCount,o=n.links.base;var a=n.gc}o=(o=o&&o.get(e))&&o[t],ee(e,t),te(e,t),B(n.links,e,t,r),H(a,i,o,-1),H(a,i,r,1)},ae=function(e,t){var r=e.optimisticOrder.indexOf(t);-1===r?e.optimisticOrder.unshift(t):e.commutativeKeys.has(t)||(se(e,t),e.optimisticOrder.splice(r,1),e.optimisticOrder.unshift(t)),e.commutativeKeys.add(t)},ue=function(e,t){-1===e.optimisticOrder.indexOf(t)&&e.optimisticOrder.unshift(t),e.refLock[t]||(e.refLock[t]=D(),e.links.optimistic[t]=new Map,e.records.optimistic[t]=new Map)},se=function(e,t){e.refLock[t]&&(delete e.refLock[t],delete e.records.optimistic[t],delete e.links.optimistic[t])},fe=function(e,t){var r=e.optimisticOrder.indexOf(t);-1<r&&(e.optimisticOrder.splice(r,1),e.commutativeKeys.delete(t)),se(e,t)};function ce(e,t){for(var r in e)oe(t,r,e[r])}function le(e,t){for(var r in e)ie(t,r,e[r])}var de=function(e){var t=R;R=D();var r=I.links.optimistic[e];r&&r.forEach(ce),(r=I.records.optimistic[e])&&r.forEach(le),R=t,fe(I,e)},pe=function(e){var t=I.links,r=I.records,n=[],i=new Set;return ee(e),Y(n,i,e,t),Y(n,i,e,r),n},ve=function(){if(I.storage){C=!0;var e=D();I.persist.forEach((function(t){var r,n=M(t),o=n.entityKey;e[t]=void 0!==(r=ne(o,n=n.fieldKey))?":"+i.stringifyVariables(r):void 0!==(r=re(o,n))?i.stringifyVariables(r):void 0})),C=!1,I.storage.writeData(e),I.persist.clear()}},ye=function(e,t,r,n,i,o){return{store:e,variables:t,fragments:r,parentTypeName:n,parentKey:i,parentFieldKey:"",fieldName:"",partial:!1,optimistic:!!o}},me=function(e,t,r,n,i){e.parentTypeName=t,e.parentKey=r,e.parentFieldKey=n,e.fieldName=i},he=function(e,t,r,n){return!(!t||t!==d(e)&&l(e).some((function(e){return!!p(e)&&(e=F(s(e),y(e,n)),!function(e,t){return void 0!==re(e,t)||void 0!==ne(e,t)}(r,e))})))},ge=function(e,t,r,n){var i=[0],o=[r];return{next:function(){for(;0!==i.length;){var r=i[i.length-1]++,a=o[o.length-1];if(r>=a.length)i.pop(),o.pop();else if(x(r=a[r],n.variables))if(p(r)){if("__typename"!==s(r))return r}else void 0!==(r=v(r)?r:n.fragments[s(r)])&&(n.store.schema?S(n.store.schema,d(r),e):he(r,e,t,n.variables))&&(i.push(0),o.push(l(r)))}}}},ke=function(e){return void 0===e?null:e},be=function(e,t,r,n){return G("write",e.data,n||null),e=qe(e,t,r),V(),e},qe=function(e,t,r){var n=q(t.query),i={data:r,dependencies:J()},o=e.rootFields[n.operation];return e=ye(e,h(n,t.variables),_(t.query),o,o),_e(e,o,l(n),r),i},Oe=function(e,t,r){G("write",e.data,r,!0),r=q(t.query);var n={data:{},dependencies:J()},i=e.rootFields[r.operation];return g(i===e.rootFields.mutation,"",10),e=ye(e,h(r,t.variables),_(t.query),i,i,!0),_e(e,i,l(r),n.data),V(),n},_e=function(e,t,r,n){var i=t===e.store.rootFields.query,o=!i&&!!e.store.rootNames[t],a=o||i?t:n.__typename;if(a){o||i||!t||ie(t,"__typename",a),r=ge(a,t||a,r,e);for(var u;u=r.next();){i=s(u);var f=y(u,e.variables),d=F(i,f),p=c(u),v=n[p];if(e.optimistic&&o){if(!(v=e.store.optimisticMutations[i]))continue;me(e,a,a,d,i),v=n[p]=ke(v(f||{},e.store,e))}u.selectionSet?t&&!o?(p=A(t,d),u=xe(e,l(u),ke(v),p),oe(t||a,d,u)):xe(e,l(u),ke(v)):t&&!o&&ie(t||a,d,v),o&&(me(e,a,a,A(a,d),i),d=e.store.updates[a][i])&&(n[i]=v,d(n,f||{},e.store,e))}}},xe=function(e,t,r,n){if(Array.isArray(r)){for(var i=Array(r.length),o=0,a=r.length;o<a;o++){var u=r[o],s=n?A(n,""+o):void 0;u=xe(e,t,u,s),i[o]=u}return i}return null===r?null:(n=e.store.keyOfEntity(r)||n,_e(e,n,t,r),n||null)},we=function(e){var t,r;this.keyOfField=F,e||(e={}),this.resolvers=e.resolvers||{},this.optimisticMutations=e.optimistic||{},this.keys=e.keys||{};var n="Query",i="Mutation",a="Subscription";if(e.schema){var u=this.schema=o.buildClientSchema(e.schema),s=u.getQueryType(),f=u.getMutationType();u=u.getSubscriptionType(),n=s?s.name:n,i=f?f.name:i,a=u?u.name:a}this.updates=((t={})[i]=e.updates&&e.updates.Mutation||{},t[a]=e.updates&&e.updates.Subscription||{},t),this.rootFields={query:n,mutation:i,subscription:a},this.rootNames=((r={})[n]="query",r[i]="mutation",r[a]="subscription",r),this.data=function(e){return{defer:!1,gc:new Set,persist:new Set,queryRootKey:e,refCount:D(),refLock:D(),links:Q(),records:Q(),commutativeKeys:new Set,optimisticOrder:[],storage:null}}(n)};we.prototype.keyOfEntity=function(e){var t,r=e.__typename,n=e.id,i=e._id;return r?void 0!==this.rootNames[r]?r:(this.keys[r]?t=this.keys[r](e):null!=n?t=""+n:null!=i&&(t=""+i),t?r+":"+t:null):null},we.prototype.resolveFieldByKey=function(e,t){if(null===(e=null!==e&&"string"!=typeof e?this.keyOfEntity(e):e))return null;var r=re(e,t);return void 0!==r?r:(t=ne(e,t))?t:null},we.prototype.resolve=function(e,t,r){return this.resolveFieldByKey(e,F(t,r))},we.prototype.invalidate=function(e,t,r){g(e="string"==typeof e?e:this.keyOfEntity(e),"",19),function(e,t,r){t=t?[{fieldKey:F(t,r)}]:pe(e),r=0;for(var n=t.length;r<n;r++){var i=t[r].fieldKey;void 0!==ne(e,i)?oe(e,i,void 0):ie(e,i,void 0)}}(e,t,r)},we.prototype.inspectFields=function(e){return null!==(e=null!==e&&"string"!=typeof e?this.keyOfEntity(e):e)?pe(e):[]},we.prototype.updateQuery=function(e,t){e=i.createRequest(e.query,e.variables),null!==(t=t(this.readQuery(e)))&&qe(this,e,t)},we.prototype.readQuery=function(e){return Ke(this,i.createRequest(e.query,e.variables)).data},we.prototype.readFragment=function(e,t,r){return Te(this,e,t,r)},we.prototype.writeFragment=function(t,r,n){!function(t,r,n,i){r=_(r);var o=Object.keys(r);if(void 0!==(o=r[o[0]])){var a=f(o);n=e._extends({},{__typename:a},n);var u=t.keyOfEntity(n);u&&(t=ye(t,i||{},r,a,u),_e(t,u,l(o),n))}}(this,t,r,n)};var Ne=function(e,t,r){return G("read",e.data,null),e=Ke(e,t,r),V(),e},Ke=function(e,t,r){var n=q(t.query),i=e.rootFields[n.operation],o=l(n);return r=r||{},r=i!==(e=ye(e,h(n,t.variables),_(t.query),i,i)).store.rootFields.query?Se(e,i,o,r):Fe(e,i,o,r),{dependencies:J(),partial:void 0!==r&&e.partial,data:void 0===r?null:r}},Se=function(e,t,r,n){if("string"!=typeof n.__typename)return n;t=ge(t,t,r,e),(r={}).__typename=n.__typename;for(var i;void 0!==(i=t.next());){var o=c(i),a=n[o];void 0!==i.selectionSet&&null!==a?(a=ke(a),r[o]=Ee(e,l(i),a)):r[o]=a}return r},Ee=function(e,t,r){if(Array.isArray(r)){for(var n=Array(r.length),i=0,o=r.length;i<o;i++)n[i]=Ee(e,t,r[i]);return n}return null===r?null:null!==(n=e.store.keyOfEntity(r))?void 0===(e=Fe(e,n,t,{}))?null:e:Se(e,r.__typename,t,r)},Te=function(t,r,n,i){r=_(r);var o=Object.keys(r);if(void 0===(o=r[o[0]]))return null;var a=f(o);return"string"==typeof n||n.__typename||(n.__typename=a),(n="string"!=typeof n?t.keyOfEntity(e._extends({},{__typename:a},n)):n)?(t=ye(t,i||{},r,a,n),Fe(t,n,l(o),{})||null):null},Fe=function(e,t,r,n,i){var o=e.store,a=t===o.rootFields.query,u=i&&o.keyOfEntity(i)||t;if("string"==typeof(t=a?t:re(u,"__typename")||i&&i.__typename)&&(!i||t===i.__typename)){n.__typename=t,r=ge(t,u,r,e);for(var f,d=!1,p=!1;void 0!==(f=r.next());){var v=s(f),m=y(f,e.variables),h=c(f),k=F(v,m),b=A(u,k),q=re(u,k),O=i?i[v]:void 0,_=o.resolvers[t],x=void 0;if(void 0!==O&&void 0===f.selectionSet)x=O;else if("read"===(g(null!==P,"",2),P)&&_&&"function"==typeof _[v]){if(me(e,t,u,b,v),void 0!==q&&(n[h]=q),x=_[v](n,m||{},o,e),void 0!==f.selectionSet&&(x=Ae(e,t,v,b,l(f),n[h]||{},x)),o.schema&&null===x&&!N(o.schema,t,v))return}else void 0===f.selectionSet?x=q:void 0!==O?x=Ae(e,t,v,b,l(f),n[h],O):void 0!==(m=ne(u,k))?x=Le(e,m,t,v,l(f),n[h]):"object"==typeof q&&null!==q&&(x=q);if(void 0===x&&o.schema&&N(o.schema,t,v))p=!0,n[h]=null;else{if(void 0===x)return;d=!0,n[h]=x}}return p&&(e.partial=!0),a&&p&&!d?void 0:n}},Ae=function(e,t,r,n,i,o,a){if(Array.isArray(a)){var u=e.store;u=!u.schema||K(u.schema,t,r);for(var s=Array(a.length),f=0,c=a.length;f<c;f++){var l=Ae(e,t,r,A(n,""+f),i,null!=o?o[f]:void 0,a[f]);if(void 0===l&&!u)return;s[f]=void 0!==l?l:null}return s}return null==a?a:null===o?null:Me(a)?(t=o||{},"string"==typeof a?Fe(e,a,i,t):Fe(e,n,i,t,a)):void 0},Le=function(e,t,r,n,i,o){if(Array.isArray(t)){var a=e.store;a=a.schema&&K(a.schema,r,n);for(var u=Array(t.length),s=0,f=t.length;s<f;s++){var c=Le(e,t[s],r,n,i,null!=o?o[s]:void 0);if(void 0===c&&!a)return;u[s]=void 0!==c?c:null}return u}return null===t||null===o?null:Fe(e,t,i,o||{})},Me=function(e){return"string"==typeof e||"object"==typeof e&&"string"==typeof e.__typename},De=function(t,r){return e._extends({},t,{context:e._extends({},t.context,{meta:e._extends({},t.context.meta,{cacheOutcome:r})})})},Pe=function(t,r){return e._extends({},t,{context:e._extends({},t.context,{requestPolicy:r})})};function Ie(e){return"query"===e.operationName&&"network-only"!==e.context.requestPolicy}function Re(e){return"query"!==e.operationName||"network-only"===e.context.requestPolicy}function je(e){return"miss"!==e.outcome||"cache-only"===e.operation.context.requestPolicy}var Ce=function(t){return function(r){function n(e){return De(e.operation,"miss")}function o(e){return"miss"===e.outcome&&"cache-only"!==e.operation.context.requestPolicy&&!x(e.dependencies)}function u(e){var t=e.operation,r=e.outcome,n=e.dependencies;return e={operation:De(t,r),data:e.data,error:e.error,extensions:e.extensions},("cache-and-network"===t.context.requestPolicy||"cache-first"===t.context.requestPolicy&&"partial"===r)&&(e.stale=!0,x(n)?"cache-and-network"===t.context.requestPolicy&&O.add(t.key):v.reexecuteOperation(Pe(t,"network-only"))),e}function s(e){var t=new Set,r=T(e,t);return N(e.operation,t),r}function f(e){return!h.has(e.operation.key)}function c(e){if(g.push(e)<h.size)return a.empty;for(var t=0;t<g.length;t++)ae(y.data,g[t].operation.key);for(var r in b)delete b[r];t=[],r=new Set;for(var n;n=g.shift();)t.push(T(n,r));return N(e.operation,r),a.fromArray(t)}function l(e){return h.has(e.operation.key)}var d,p=r.forward,v=r.client,y=new we(t);t&&t.storage&&(d=t.storage.readData().then((function(e){!function(e,t,r){for(var n in G("read",e,null),r){var i=r[n];if(void 0!==i){var o=M(n),a=o.entityKey;o=o.fieldKey,":"===i[0]?oe(a,o,JSON.parse(i.slice(1))):ie(a,o,JSON.parse(i))}}V(),e.storage=t}(y.data,t.storage,e)})));var h=new Map,g=[],k=new Map,b=D(),O=new Set,_=D(),x=function(e){for(var t in e)if(b[t])return!0;return!1},w=function(e,t){if(t)for(var r in t)if(t=_[r]){_[r]=[];for(var n=0,i=t.length;n<i;n++)e.add(t[n])}},N=function(e,t){t.forEach((function(t){if(t!==e.key){var r=k.get(t);if(r){k.delete(t);var n="cache-first";O.has(t)&&(O.delete(t),n="cache-and-network"),v.reexecuteOperation(Pe(r,n))}}}))},K=function(t){if("query"===t.operationName)ae(y.data,t.key);else if("teardown"===t.operationName)k.delete(t.key),U(y.data,t.key);else if("mutation"===t.operationName&&"network-only"!==t.context.requestPolicy){var r=Oe(y,t,t.key).dependencies;if(!function(e){for(var t in e)return!1;return!0}(r)){for(var n in r)b[n]=!0;h.set(t.key,r),n=new Set,w(n,r),N(t,n)}}return e._extends({},t,{variables:t.variables?m(q(t.query),t.variables):t.variables,query:i.formatDocument(t.query)})},S=function(e,t){for(var r in t)(_[r]||(_[r]=[])).push(e.key),k.set(e.key,e)},E=function(e){var t=Ne(y,e),r=t.data?t.partial?"partial":"hit":"miss";return S(e,t.dependencies),{outcome:r,operation:e,data:t.data,dependencies:t.dependencies}},T=function(e,t){var r=e.operation,n=e.error,i=e.extensions,o=r.key;if("mutation"===r.operationName){var a=h.get(o);w(t,a),h.delete(o)}else ae(y.data,r.key);if(e.data){if(o=be(y,r,e.data,o).dependencies,w(t,o),o=Ne(y,r,e.data),e.data=o.data,"query"===r.operationName){var u=o.dependencies;w(t,u)}}else U(y.data,r.key);return u&&S(e.operation,u),{data:e.data,error:n,extensions:i,operation:r}};return function(e){e=a.share(e);var t=d?a.mergeMap(a.fromArray)(a.take(1)(a.buffer(a.fromPromise(d))(e))):a.empty;t=a.share(a.concat([t,e])),e=a.share(a.map(E)(a.filter(Ie)(t))),t=a.filter(Re)(t);var r=a.map(n)(a.filter(o)(e));return e=a.map(u)(a.filter(je)(e)),r=a.share(p(a.map(K)(a.merge([t,r])))),t=a.map(s)(a.filter(f)(r)),r=a.mergeMap(c)(a.filter(l)(r)),a.merge([t,r,e])}}};function Qe(e){return{query:u.print(e.query),variables:e.variables}}exports.Store=we,exports.cacheExchange=Ce,exports.noopDataState=U,exports.offlineExchange=function(e){return function(t){var r=t.forward,n=t.client,o=t.dispatchDebug;return function(t){function u(e){return!("subscription"!==e.operation.operationName&&function(e){return e&&e.networkError&&!e.response&&("undefined"!=typeof navigator&&!1===navigator.onLine||/request failed|failed to fetch|network\s?error/i.test(e.networkError.message))}(e.error)&&("mutation"===e.operation.operationName?function(e,t){var r,n=t.variables||D(),i=_(t.query);for(t=[].concat(l(q(t.query)));r=t.pop();)if(x(r,n))if(p(r)){if(e[s(r)])return!0}else(r=v(r)?r:i[s(r)])&&t.push.apply(t,l(r));return!1}(m,e.operation)&&(h.push(e.operation),g(),1):(Promise.resolve().then((function(){return y(Pe(e.operation,"cache-only"))})),1)))}var f=e.storage,c=a.makeSubject(),d=c.source,y=c.next;if(c=r,f&&f.onOnline&&f.readMetadata&&f.writeMetadata){var m=e.optimistic||{},h=[],g=function(){f.writeMetadata(h.map(Qe))},k=!1,b=function(){for(var e;!k&&(e=h.shift());)k=!0,n.dispatchOperation(n.createRequestOperation("mutation",e)),k=!1;g()};c=function(e){return a.filter(u)(r(e))},f.onOnline(b),f.readMetadata().then((function(e){if(e)for(var t=0;t<e.length;t++)h.push(i.createRequest(e[t].query,e[t].variables));b()}))}return t=a.share(t),d=a.merge([d,t]),Ce(e)({forward:c,client:n,dispatchDebug:o})(d)}}},exports.query=Ne,exports.reserveLayer=ae,exports.write=be,exports.writeOptimistic=Oe;
//# sourceMappingURL=urql-exchange-graphcache.min.js.map
